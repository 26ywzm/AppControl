# 应用易控

## 项目概述
应用易控是一个基于 Web 的应用程序控制系统，用于通过浏览器界面远程控制桌面应用程序的启动和停止。它采用 Node.js + Express 构建后端服务，并使用原生 JavaScript 开发前端界面，实现了一个轻量级、易于部署和使用的应用程序控制平台。
## 项目架构
### 后端 (app.js)
* **功能：**
    - 使用 Express 框架搭建 Web 服务器，运行在端口 3001。
    - 提供 REST API 接口，用于控制应用程序的启动和停止。
    - 通过 Node.js 的 child_process 模块管理应用程序进程，支持进程的启动、停止和状态查询。
    - 实现了进程的优雅关闭，确保应用程序在停止时能够正确退出。

* **依赖：**
    - express：用于搭建 Web 服务器。
    - cors：用于支持跨域资源共享（CORS），允许前端页面跨域调用后端接口。
    - accepts 和 negotiator：用于处理请求的媒体类型协商。

### 前端 (public/)
* **文件结构：**
    - widget-demo.html：演示页面，展示了如何使用控制器组件。
    - appControlWidget.js：控制器组件的具体实现，提供了一个可嵌入的应用程序控制界面。

* **主要功能：**
    - 获取应用程序列表。
    - 启动和停止应用程序。
    - 管理进程状态。
    - 支持跨域请求（CORS）。

### 配置 (config/applications.json)
* **功能：**
    - 定义了可控制的 Windows 应用程序列表。
    - 每个应用包含以下信息：
        - ID：唯一标识符。
        - 名称：应用程序的名称。
        - 描述：简要描述。
        - 启动命令：启动应用程序的命令。
        - 关闭命令：停止应用程序的命令。

* **默认配置：**
    - 包含了 Windows 系统中常用的程序，如记事本、计算器、画图等。

### 技术栈
#### 后端
* 主要依赖：
    - express：^4.21.2
    - cors：^2.8.5
    - accepts：^1.3.8
    - negotiator：^1.0.0

#### 构建和部署
* 打包工具：
    - 使用 pkg 将项目打包为独立的可执行文件。
* 支持平台：
    - Windows x64
* 部署方式：
    - 包含构建脚本，可以生成分发版本，方便部署到目标系统。
### 使用说明
#### 启动后端服务
1. 确保已安装 Node.js 和 npm。
2. 在项目根目录运行以下命令启动服务：
```bash
npm install
npm start
```
3. 服务默认运行在 http://localhost:3001。

#### 使用前端页面
1. 打开 public/widget-demo.html 文件。
2. 页面会自动连接到后端服务，并加载应用程序列表。
3. 通过页面上的按钮启动或停止应用程序。
### 特点
* 轻量级：系统设计简洁，资源占用低。
* 易于使用：提供直观的 Web 界面，操作简单。
* 易于扩展：通过修改配置文件即可添加新的应用程序。
* 跨平台支持：后端支持 Windows x64，前端可在任何支持 Web 的设备上运行。

> 应用易控是一个简单而强大的工具，适用于需要通过 Web 界面控制桌面应用程序的场景。